"use strict";(self.webpackChunkmt_task=self.webpackChunkmt_task||[]).push([[951],{5951:(tt,T,r)=>{r.r(T),r.d(T,{ManageModule:()=>V});var d=r(8583),f=r(4655),p=r(3461),l=(()=>{return(e=l||(l={})).open="open",e.inprogress="inprogress",e.completed="completed",e.notknown="notknown",l;var e})(),t=r(7716),Z=r(1494),h=r(4929),g=r(3738);function C(e,n){if(1&e&&(t.TgZ(0,"div",10),t._uU(1),t.qZA()),2&e){const a=n.$implicit;t.Q6J("cdkDragData",a),t.xp6(1),t.lnq(" ",a.id," - ",a.title," [",a.status,"] ")}}function x(e,n){if(1&e&&(t.TgZ(0,"div",10),t._uU(1),t.qZA()),2&e){const a=n.$implicit;t.Q6J("cdkDragData",a),t.xp6(1),t.lnq(" ",a.id," - ",a.title,"[",a.status,"] ")}}function D(e,n){if(1&e&&(t.TgZ(0,"div",10),t._uU(1),t.qZA()),2&e){const a=n.$implicit;t.Q6J("cdkDragData",a),t.xp6(1),t.lnq(" ",a.id," - ",a.title,"[",a.status,"] ")}}const k=function(e,n){return[e,n]};let A=(()=>{class e{constructor(a){this.task_api=a,this.open_tasks=[],this.inprogress_tasks=[],this.completed_tasks=[]}ngOnInit(){this.loadAllTasks()}drop1(a){}drop(a){console.log(a.container.id),console.log(a.item.data),a.previousContainer===a.container?((0,p.bA)(a.container.data,a.previousIndex,a.currentIndex),console.log("state change not done")):((0,p.EA)(a.previousContainer.data,a.container.data,a.previousIndex,a.currentIndex),console.log("state change done"),this.updateTask(a.item.data,a.container.id))}loadAllTasks(){this.task_api.getTasks().subscribe(a=>{console.log(a),this.open_tasks=a.filter(o=>o.status===l.open),this.inprogress_tasks=a.filter(o=>o.status===l.inprogress),this.completed_tasks=a.filter(o=>o.status===l.completed)})}updateTask(a,o){let s=o.split("_")[1];a.created_at=Date.now().toString(),a.status=this.getStatus(s),console.log(a),this.task_api.updateTask(a).subscribe(i=>{console.log(i),this.loadAllTasks()})}getStatus(a){return"open"===a?l.open:"inprogress"===a?l.inprogress:"completed"===a?l.completed:l.notknown}}return e.\u0275fac=function(a){return new(a||e)(t.Y36(Z.A))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-manage-status"]],decls:26,vars:18,consts:[["cols","3","rowHeight","400px","gutterSize","15px"],["colspan","1"],[1,"full-width"],["cdkDropList","","id","id_open","cdkDropListSortingDisabled","",1,"task_list",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["open","cdkDropList"],["class","task_item","cdkDrag","",3,"cdkDragData",4,"ngFor","ngForOf"],["cdkDropList","","id","id_inprogress","cdkDropListSortingDisabled","",1,"task_list",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["inprogress","cdkDropList"],["cdkDropList","","id","id_completed","cdkDropListSortingDisabled","",1,"task_list",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["completed","cdkDropList"],["cdkDrag","",1,"task_item",3,"cdkDragData"]],template:function(a,o){if(1&a&&(t._UZ(0,"br"),t.TgZ(1,"mat-grid-list",0),t.TgZ(2,"mat-grid-tile",1),t.TgZ(3,"mat-card",2),t.TgZ(4,"mat-card-title"),t._uU(5,"Open"),t.qZA(),t.TgZ(6,"mat-card-content"),t.TgZ(7,"div",3,4),t.NdJ("cdkDropListDropped",function(i){return o.drop(i)}),t.YNc(9,C,2,4,"div",5),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"mat-grid-tile",1),t.TgZ(11,"mat-card",2),t.TgZ(12,"mat-card-title"),t._uU(13,"In-Progress"),t.qZA(),t.TgZ(14,"mat-card-content"),t.TgZ(15,"div",6,7),t.NdJ("cdkDropListDropped",function(i){return o.drop(i)}),t.YNc(17,x,2,4,"div",5),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"mat-grid-tile",1),t.TgZ(19,"mat-card",2),t.TgZ(20,"mat-card-title"),t._uU(21,"Completed"),t.qZA(),t.TgZ(22,"mat-card-content"),t.TgZ(23,"div",8,9),t.NdJ("cdkDropListDropped",function(i){return o.drop(i)}),t.YNc(25,D,2,4,"div",5),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&a){const s=t.MAs(8),i=t.MAs(16),_=t.MAs(24);t.xp6(7),t.Q6J("cdkDropListData",o.open_tasks)("cdkDropListConnectedTo",t.WLB(9,k,i,_)),t.xp6(2),t.Q6J("ngForOf",o.open_tasks),t.xp6(6),t.Q6J("cdkDropListData",o.inprogress_tasks)("cdkDropListConnectedTo",t.WLB(12,k,s,_)),t.xp6(2),t.Q6J("ngForOf",o.inprogress_tasks),t.xp6(6),t.Q6J("cdkDropListData",o.completed_tasks)("cdkDropListConnectedTo",t.WLB(15,k,s,i)),t.xp6(2),t.Q6J("ngForOf",o.completed_tasks)}},directives:[h.Il,h.DX,g.a8,g.n5,g.dn,p.Wj,d.sg,p.Zt],styles:[".task_list[_ngcontent-%COMP%]{border:solid 1px #ccc;min-height:60px;background:white;border-radius:4px;display:block}.task_item[_ngcontent-%COMP%]{padding:20px 10px;border-bottom:solid 1px #585858;color:#000000de;display:flex;flex-direction:row;justify-content:space-between;box-sizing:border-box;cursor:move;background:white;font-size:14px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.task_list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.mat-grid-tiles[_ngcontent-%COMP%]{justify-content:flex-start!important;align-items:flex-start!important}.mat-grid-tile[_ngcontent-%COMP%]{border:1px solid white}.full-width[_ngcontent-%COMP%]{width:100%}"]}),e})();var c=r(2789),m=r(9692),M=r(8295),q=r(9983),u=r(3679),b=r(7441),w=r(1095),v=r(2458);function N(e,n){if(1&e&&(t.TgZ(0,"mat-option",20),t._uU(1),t.qZA()),2&e){const a=n.$implicit;t.Q6J("value",a.value),t.xp6(1),t.Oqu(a.value)}}function J(e,n){if(1&e){const a=t.EpF();t.TgZ(0,"mat-card",15),t.TgZ(1,"h2"),t._uU(2,"Create New Task"),t.qZA(),t.TgZ(3,"mat-form-field"),t.TgZ(4,"mat-label"),t._uU(5,"Title"),t.qZA(),t.TgZ(6,"input",16),t.NdJ("ngModelChange",function(s){return t.CHM(a),t.oxw().task.title=s}),t.qZA(),t.qZA(),t.TgZ(7,"mat-form-field"),t.TgZ(8,"mat-label"),t._uU(9,"Description"),t.qZA(),t.TgZ(10,"input",16),t.NdJ("ngModelChange",function(s){return t.CHM(a),t.oxw().task.description=s}),t.qZA(),t.qZA(),t.TgZ(11,"mat-form-field"),t.TgZ(12,"mat-label"),t._uU(13,"Status"),t.qZA(),t.TgZ(14,"mat-select",17),t.NdJ("ngModelChange",function(s){return t.CHM(a),t.oxw().task.status=s}),t.YNc(15,N,2,2,"mat-option",18),t.ALo(16,"keyvalue"),t.qZA(),t.qZA(),t.TgZ(17,"button",19),t.NdJ("click",function(){return t.CHM(a),t.oxw().saveTask()}),t._uU(18," Add Task "),t.qZA(),t.qZA()}if(2&e){const a=t.oxw();t.xp6(6),t.Q6J("ngModel",a.task.title),t.xp6(4),t.Q6J("ngModel",a.task.description),t.xp6(4),t.Q6J("ngModel",a.task.status),t.xp6(1),t.Q6J("ngForOf",t.lcZ(16,4,a.status))}}function L(e,n){if(1&e&&(t.TgZ(0,"mat-option",20),t._uU(1),t.qZA()),2&e){const a=n.$implicit;t.Q6J("value",a.value),t.xp6(1),t.Oqu(a.value)}}function U(e,n){if(1&e){const a=t.EpF();t.TgZ(0,"mat-card",21),t.TgZ(1,"h2"),t._uU(2,"Update Task"),t.qZA(),t.TgZ(3,"mat-form-field"),t.TgZ(4,"mat-label"),t._uU(5,"Title"),t.qZA(),t.TgZ(6,"input",16),t.NdJ("ngModelChange",function(s){return t.CHM(a),t.oxw().task.title=s}),t.qZA(),t.qZA(),t.TgZ(7,"mat-form-field"),t.TgZ(8,"mat-label"),t._uU(9,"Description"),t.qZA(),t.TgZ(10,"input",16),t.NdJ("ngModelChange",function(s){return t.CHM(a),t.oxw().task.description=s}),t.qZA(),t.qZA(),t.TgZ(11,"mat-form-field"),t.TgZ(12,"mat-label"),t._uU(13,"Status"),t.qZA(),t.TgZ(14,"mat-select",17),t.NdJ("ngModelChange",function(s){return t.CHM(a),t.oxw().task.status=s}),t.YNc(15,L,2,2,"mat-option",18),t.ALo(16,"keyvalue"),t.qZA(),t.qZA(),t.TgZ(17,"button",22),t.NdJ("click",function(){return t.CHM(a),t.oxw().updateTask()}),t._uU(18," Update Task "),t.qZA(),t.qZA()}if(2&e){const a=t.oxw();t.xp6(6),t.Q6J("ngModel",a.task.title),t.xp6(4),t.Q6J("ngModel",a.task.description),t.xp6(4),t.Q6J("ngModel",a.task.status),t.xp6(1),t.Q6J("ngForOf",t.lcZ(16,4,a.status))}}function O(e,n){1&e&&(t.TgZ(0,"th",23),t._uU(1,"ID"),t.qZA())}function y(e,n){if(1&e&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&e){const a=n.$implicit;t.xp6(1),t.Oqu(a.id)}}function Q(e,n){1&e&&(t.TgZ(0,"th",23),t._uU(1,"Title"),t.qZA())}function S(e,n){if(1&e&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&e){const a=n.$implicit;t.xp6(1),t.Oqu(a.title)}}function Y(e,n){1&e&&(t.TgZ(0,"th",23),t._uU(1,"Description"),t.qZA())}function F(e,n){if(1&e&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&e){const a=n.$implicit;t.xp6(1),t.Oqu(a.description)}}function I(e,n){1&e&&(t.TgZ(0,"th",23),t._uU(1,"Status"),t.qZA())}function P(e,n){if(1&e&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&e){const a=n.$implicit;t.xp6(1),t.Oqu(a.status)}}function B(e,n){1&e&&(t.TgZ(0,"th",23),t._uU(1,"Created"),t.qZA())}function H(e,n){if(1&e&&(t.TgZ(0,"td",24),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const a=n.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,a.created_at,"medium"))}}function z(e,n){1&e&&(t.TgZ(0,"th",23),t._uU(1,"Action"),t.qZA())}function $(e,n){if(1&e){const a=t.EpF();t.TgZ(0,"td",24),t.TgZ(1,"button",25),t.NdJ("click",function(){const i=t.CHM(a).$implicit;return t.oxw().deleteTask(i.id)}),t._uU(2,"Delete"),t.qZA(),t.TgZ(3,"button",26),t.NdJ("click",function(){const i=t.CHM(a).$implicit;return t.oxw().LoadData(i.id)}),t._uU(4,"Edit"),t.qZA(),t.qZA()}}function E(e,n){1&e&&t._UZ(0,"tr",27)}function R(e,n){1&e&&t._UZ(0,"tr",28)}function j(e,n){1&e&&(t.TgZ(0,"tr",29),t.TgZ(1,"td",30),t._uU(2,"Add task to get started."),t.qZA(),t.qZA())}const W=function(){return[5,10,25,100]},X=[{path:"",redirectTo:"manage-task",pathMatch:"full"},{path:"manage-task",component:(()=>{class e{constructor(a){this.task_api=a,this.status=l,this.title="Manage Task",this.task={title:"",description:""},this.dColumns=["id","title","description","status","created_at","action"],this.tasksData=new c.by,this.lastid=0,this.editMode=!1,this.paginator=new m.NW(new m.ye,t.sBO.prototype)}ngOnInit(){this.showAllTasks()}ngAfterViewInit(){}showAllTasks(){this.task_api.getTasks().subscribe(a=>{console.log(a),this.lastid=a[a.length-1].id,console.log(this.lastid),this.tasksData=new c.by(a),this.tasksData.paginator=this.paginator,this.editMode=!1})}saveTask(){this.task.created_at=Date.now().toString(),this.task.id=this.lastid+1,console.log(this.task),this.task_api.saveTasks(this.task).subscribe(a=>{console.log(a),this.showAllTasks(),alert("New Task added!")})}deleteTask(a){this.task_api.deleteTask(a).subscribe(o=>{console.log(o),this.showAllTasks()})}updateTask(){this.task.created_at=Date.now().toString(),console.log(this.task),this.task_api.updateTask(this.task).subscribe(a=>{console.log(a),this.showAllTasks(),alert("Task with ID ["+this.task.id+"] updated!")})}LoadData(a){this.task_api.getTasksbyID(a).subscribe(o=>{console.log(o),this.task=o,this.editMode=!0})}}return e.\u0275fac=function(a){return new(a||e)(t.Y36(Z.A))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-manage-tasks"]],viewQuery:function(a,o){if(1&a&&t.Gf(m.NW,5),2&a){let s;t.iGM(s=t.CRH())&&(o.paginator=s.first)}},decls:26,vars:7,consts:[["class","center",4,"ngIf"],["class","full-width",4,"ngIf"],["mat-table","",3,"dataSource"],["matColumnDef","id"],["mat-header-cel","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","description"],["matColumnDef","status"],["matColumnDef","created_at"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of users",3,"pageSizeOptions"],[1,"center"],["matInput","",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["color","primary","mat-raised-button","",3,"click"],[3,"value"],[1,"full-width"],["color","accent","mat-raised-button","",3,"click"],["mat-header-cel",""],["mat-cell",""],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(a,o){1&a&&(t.YNc(0,J,19,6,"mat-card",0),t.YNc(1,U,19,6,"mat-card",1),t._UZ(2,"hr"),t.TgZ(3,"table",2),t.ynx(4,3),t.YNc(5,O,2,0,"th",4),t.YNc(6,y,2,1,"td",5),t.BQk(),t.ynx(7,6),t.YNc(8,Q,2,0,"th",4),t.YNc(9,S,2,1,"td",5),t.BQk(),t.ynx(10,7),t.YNc(11,Y,2,0,"th",4),t.YNc(12,F,2,1,"td",5),t.BQk(),t.ynx(13,8),t.YNc(14,I,2,0,"th",4),t.YNc(15,P,2,1,"td",5),t.BQk(),t.ynx(16,9),t.YNc(17,B,2,0,"th",4),t.YNc(18,H,3,4,"td",5),t.BQk(),t.ynx(19,10),t.YNc(20,z,2,0,"th",4),t.YNc(21,$,5,0,"td",5),t.BQk(),t.YNc(22,E,1,0,"tr",11),t.YNc(23,R,1,0,"tr",12),t.YNc(24,j,3,0,"tr",13),t.qZA(),t._UZ(25,"mat-paginator",14)),2&a&&(t.Q6J("ngIf",!o.editMode),t.xp6(1),t.Q6J("ngIf",o.editMode),t.xp6(2),t.Q6J("dataSource",o.tasksData),t.xp6(19),t.Q6J("matHeaderRowDef",o.dColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.dColumns),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(6,W)))},directives:[d.O5,c.BZ,c.w1,c.fO,c.Dz,c.as,c.nj,c.Ee,m.NW,g.a8,M.KE,M.hX,q.Nt,u.Fj,u.JJ,u.On,b.gD,d.sg,w.lW,v.ey,c.ev,c.XQ,c.Gk],pipes:[d.Nd,d.uU],styles:["table[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:flex-start}.full-width[_ngcontent-%COMP%]{flex:1 1 auto}button[_ngcontent-%COMP%]{margin:8px 8px 8px 0}.center[_ngcontent-%COMP%]{margin:8px 8px 8px 0;justify-content:center}"]}),e})()},{path:"manage-status",component:A}];let G=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[f.Bz.forChild(X)],f.Bz]}),e})();var K=r(1514);let V=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[d.ez,G,K.F,u.u5]]}),e})()}}]);